<!-- login.html --><!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - TubeEarn</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom, #e0f7fa, #ffffff);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }.logo {
  margin-top: 30px;
}

.login-container {
  background: white;
  border-radius: 12px;
  padding: 30px;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
  margin-top: 10px;
}

h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #333;
}

p.subtext {
  text-align: center;
  font-size: 14px;
  color: #666;
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

button {
  width: 100%;
  padding: 10px;
  background-color: #007BFF;
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}

.bottom-links {
  text-align: center;
  margin-top: 15px;
}

.bottom-links a {
  color: #007BFF;
  text-decoration: none;
  margin: 0 5px;
}

.bottom-links a:hover {
  text-decoration: underline;
}

#captchaBox {
  text-align: center;
  font-weight: bold;
  margin-bottom: 15px;
}

  </style>
</head>
<body>
  <!-- Logo -->
  <div class="logo">
    <img src="https://i.postimg.cc/tTd063DB/Screenshot-2025-07-30-21-07-04-523-com-android-chrome.jpg" alt="TubeEarn Logo" width="200">
  </div>  <!-- Login Form -->  <div class="login-container">
    <h2>Welcome to TubeEarn</h2>
    <p class="subtext">World's No.1 Growth & Earning Platform</p><form id="loginForm">
  <input type="email" id="email" placeholder="Email" required>
  <input type="password" id="password" placeholder="Password" required>
  <div id="captchaBox">Loading captcha...</div>
  <input type="text" id="captchaInput" placeholder="Enter captcha answer" required>
  <button type="submit">Sign In</button>
</form>

<div class="bottom-links">
  <a href="forgot.html">Forgot Password?</a>
</div>

  </div>  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>  <script>
    const SUPABASE_URL = 'https://ejbvidirnsjvadvekede.supabase.co';
    const SUPABASE_API_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqYnZpZGlybnNqdmFkdmVrZWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2MTA3ODMsImV4cCI6MjA2OTE4Njc4M30.KoCt8f2bXjn3843XOsRMLwyZ0lKpARkrRqb_GXlGfUs';

    const client = supabase.createClient(SUPABASE_URL, SUPABASE_API_KEY);

    // Captcha generate
    const captchaBox = document.getElementById("captchaBox");
    let captchaAnswer;

    function generateCaptcha() {
      const num1 = Math.floor(Math.random() * 10);
      const num2 = Math.floor(Math.random() * 10);
      captchaAnswer = num1 + num2;
      captchaBox.innerText = `What is ${num1} + ${num2}?`;
    }
    generateCaptcha();

    // Login logic
    document.getElementById("loginForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const captcha = document.getElementById("captchaInput").value.trim();

      if (parseInt(captcha) !== captchaAnswer) {
        alert("Captcha incorrect. Try again.");
        generateCaptcha();
        return;
      }

      const { data, error } = await client.auth.signInWithPassword({
        email,
        password
      });

      if (error) {
        alert("❌ " + error.message);
      } else {
        alert("✅ Login successful!");
        window.location.href = "../index.html"; // Redirect to TubeEarn main page
      }
    });
  </script></body>
</html>
